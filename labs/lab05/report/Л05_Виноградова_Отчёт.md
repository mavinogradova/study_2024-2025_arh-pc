---
## Front matter
title: "Лабораторная работа номер 5"
subtitle: "Отчёт"
author: "Виноградова Мария Андреевна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Целью данной лабораторной работы является приобретение практических навыков работы в Midnight Commander,освоение инструкций языка ассемблера mov и int

# Задание

 1. Основы работы с mc
 2. Структура программы на языке ассемблера NASM
 3. Подключение внешнего файла
 4. Выполнение заданий для самостоятельной работы

# Теоретическое введение

Midnight Commander (или просто mc) — это программа, которая позволяет просматривать структуру каталогов и выполнять основные операции по управлению файловой системой, т.е. mc является файловым менеджером. Midnight Commander позволяет сделать работу с файлами более удобной и наглядной. Программа на языке ассемблера NASM, как правило, состоит из трёх секций: секция кода программы (SECTION .text), секция инициированных (известных во время компиляции) данных (SECTION .data) и секция не инициализированных данных(тех, под которые во время компиляци и только отводится память, а значение присваивается входе выполнения программы)(SECTION.bss).Для объявления инициированных данных в секции .data используются директивы DB, DW,DD,DQиDT, которые резервируют память и указывают,какие значения должны храниться в этой памяти:-DB(define byte)—определяет переменную размером в 1байт;-DW(define word)—определяет переменную размеров в 2 бай та (слово);- DD (define double word)—определяет переменную размером в 4 байта (двойное слово);- DQ(define quad word)—определяет переменную размером в 8 байт(учетверённое слово);-DT(define ten bytes)—определяет переменную размером в 10 байт.Директивы используются для объявления простых переменных и для объявления массивов. Для определения строк принято использовать директиву DB в связи с особенностями хранения данных в оперативной памяти. Инструкция языка ассемблера mov предназначена для дублирования данных источника в приёмнике.movdst,src Здесь операнд dst—приёмник,аsrc—источ ник. В качестве операнда могут выступать регистры (register), ячейки памяти (memory) и непосредственные значения(const). Инструкция языка ассемблера int предназначена для вызова прерывания с указанным номером.int n Здесь n — номер прерывания,принадлежащий диапазону 0–255. При программировании в Linux с использованием вызовов ядра sys_calls n=80h(принято задавать в шестнадцатеричной системе счисления).

# Выполнение лабораторной работы

## Порядок выполнения лабораторной работы

Открываем Midnight Commander (рис. [-@fig:001]).

![Вводим в консоль команду mc](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-07-00.png){#fig:001 width=70%}

Переходим в каталог, созданный при выполнении 4 ЛБ (рис. [-@fig:002]).

![Переходим в каталог](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-08-23.png){#fig:002 width=70%}

Создаем каталог lab05 (рис. [-@fig:003]).

![Создаем каталог функциональной клавишей F7](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-26-07.png){#fig:003 width=70%}

Создаем файл lab5-1.asm (рис. [-@fig:004]).

![Воспользуемся командой touch](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-27-10.png){#fig:004 width=70%}

Открываем файл для редактирования и заполняем его по листингу (рис. [-@fig:005]).

![Открывем файл функциональной клавишей, заполняем и сохраняем](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-53-31.png){#fig:005 width=70%}

Открывем файл для просмотра (рис. [-@fig:006]).

![Открываем файл и убеждаемся, что файл содержит текст программы](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-08 23-56-04.png){#fig:006 width=70%}

Транслируем текст программы и запускаем исполняемый файл (рис. [-@fig:007]).

![Проверяем, как работает данная программа](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 00-14-53.png){#fig:007 width=70%}

Скачиваем файл со страницы курса (рис. [-@fig:008]).

![Скачиваем файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 00-23-48.png){#fig:008 width=70%}

Копируем файл в нужную директорию (рис. [-@fig:009]).

![Копируем скаченный файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 00-26-30.png){#fig:009 width=70%}

Создаем копию файла lab5-1.asm (рис. [-@fig:010]).

![Создаем копию файла клавишей F6](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 00-26-07.png){#fig:010 width=70%}

Проверяем созданный файл (рис. [-@fig:011]).

![Проверяем скопировался ли файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 00-40-06.png){#fig:011 width=70%}

Открываем новый файл и заполняем его в соответствии с листингом (рис. [-@fig:012]).

![Открываем и заполняем файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 01-15-08.png){#fig:012 width=70%}

Транслируем и запускаем новый файл (рис. [-@fig:013]).

![Смотрим, как сработала программа](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 01-17-21.png){#fig:013 width=70%}

Снова открываем файл для редактирования и меняем sprintLF на sprint (рис. [-@fig:014]).

![Редактируем файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 01-21-54.png){#fig:014 width=70%}

Транслируем и запускаем файл (рис. [-@fig:015]).

![Смотрим, как сработал программа и сравниваем с прошлой](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 01-23-16.png){#fig:015 width=70%}

Таким образом можем понять, что команда sprint выводит текст в той же строке, а sprintLF переносит на новую строку.

## Задание для самостоятельной работы

Создаем копию файла lab5-1.asm и называем его так же (рис. [-@fig:016]).

![Создаем копию файла lab5-1.asm](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 01-27-00.png){#fig:016 width=70%}

Редактируем файл, чтобы введеный текст с клавиатуры выводился в консоль (рис. [-@fig:017]).

![Редактируем файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 02-20-37.png){#fig:017 width=70%}

Транслируем файл и запускаем программу (рис. [-@fig:018]).

![Проверяем правильность написания программы](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 22-02-42.png){#fig:018 width=70%}

Создаем копию файла lab5-2.asm и называем его так же (рис. [-@fig:019]).

![Создаем копию файла lab5-2.asm](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 19-39-47.png){#fig:019 width=70%}

Редактируем файл, чтобы введеный текст с клавиатуры выводился в консоль (рис. [-@fig:020]).

![Редактируем файл](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 02-21-10.png){#fig:020 width=70%}

Транслируем файл и запускаем программу (рис. [-@fig:021]).

![Проверяем правильность написания программы](/home/mavinogradova/Изображения/Снимки экрана/Снимок экрана от 2024-11-09 22-11-41.png){#fig:021 width=70%}

# Выводы

Мы приобрели навыки работы с Midnight Commander и освоили инструкцию mov.


